# Google カレンダーグループ

### 1. Chrome 拡張機能の目的と概要

- **拡張機能が解決する問題**: 複数のカレンダーがあるとき、その状況に応じて表示する Google カレンダーの on/off を切り替えるのが手間である。この拡張機能を用いて、事前に定義したグループをワンクリックで表示できるようにすることにより時間と手間の削減ができる
- **ターゲットユーザー**: 複数人の予定を管理している PM など
- **主要な機能**:
  - カレンダーグループ切り替え機能
  - カレンダー グループ作成機能
  - カレンダーグループ編集機能

### 2. 機能要件

拡張機能が「何をすべきか」を具体的に記述します。

- **ユーザーインターフェース (UI)**:
  - Google カレンダーのページで左クリックメニュー(コンテキストメニュー)の中に今回作成する拡張機能のメニューが表示される。
    - メニューには以下のメニューが存在。
      - 「グループを選択」
        - さらに開き、「保存済みグループの一覧」が表示
      - 「グループを作成」
  - 拡張機能の設定ページが存在。そのページには以下のセクションが一ページに纏まる形で存在。
    - 「保存済みグループの編集」
      - 保存済みグループの一覧が表示される。
      - そのグループの名前と、そのグループに属するユーザー名がセクションで表示される。(各グループが独立したセクションとして表示)
      - そのグループの名前を編集することができる。
      - そのグループに属するユーザー名を編集することができる。
      - そのグループを削除することができる。
    - 「保存済みグループの import/export」
      - すべてのグループを export することができる
      - すべてのグループを import することができる
      - import した場合、既存のグループを上書きするかどうかを選択できる
      - ダイアログのボタンは「キャンセル」と「ファイル選択ボタン / インポート(ファイル選択後表示)」のみ
      - インポートした場合、ダイアログは閉じる
    - 「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは現在のチェック状態を維持する」か、「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは無効にする」かは設定画面で設定できる（デフォルトは「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは無効にする」）
- **機能リスト**:
  - Google カレンダーのページ左クリックメニュー押下時の動作
    - 「保存済みグループの一覧」によって一覧が表示され、表示したいグループの名前を押すとページ内の`aria-label=”他のカレンダー”`内の`aria-label={$グループに保存されたユーザー名}`のチェックボックスにチェックを入れる
      - グループに属さないユーザーにチェックが入っていた場合はチェックを off にする
        - 「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは現在のチェック状態を維持する」か、「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは無効にする」かは設定画面で設定できる（デフォルトは「グループに属するカレンダーのみを有効にし、それ以外のカレンダーは無効にする」）
      - Google カレンダーのアップデートで拡張機能が動作しなくなるリスクは一旦許容
    - 「グループを作成」を押すと、ダイアログが開き、現在チェックされているユーザーを新しいグループとして保存する。テキストボックスでグループ名を指定する
      - 保存は LocalStorage に Json 形式で保存(形式はもっと適切なものがあればそちらを使用)
      - 例: {"groupName": "My Team", "calendars": ["user1", "user2"]}
- **データ管理**:
  - LocalStorage にグループ情報を保存。
  - import/export 機能。json でグループ情報の吐き出し、取り込みを行う（のちに作成予定）

### 3. 非機能要件

拡張機能が「どのように動作すべきか」を記述します。これらはユーザー体験やシステムの品質に関わります。

- **パフォーマンス**:
  - なし（懸念事項がある場合は指摘してください。）
- **セキュリティ**:
  - なし（懸念事項がある場合は指摘してください。）
- **互換性**:
  - なし（懸念事項がある場合は指摘してください。）
- **保守性**:
  - TypeScript で作成。
- **可用性**:
  - なし（懸念事項がある場合は指摘してください。）

### 4. 技術要件

開発に使用する技術スタックを記述します。

- **プログラミング言語**:
  - TypeScript で記述
  - 他 HTML・CSS を使用
- **開発ツール**:
  - Cursor(VSCode)
  - Claude Code

### 5. 開発スケジュールとマイルストーン

- フェーズ 1
  - Google カレンダーでの動作を完成させる
    - グループ切り替え機能、グループ作成機能
- フェーズ 2
  - 設定画面の動作を完成させる
    - グループ編集機能、グループ import/export 機能

### 6. その他

- **テスト計画**:
  - 単体テスト・結合テストを適切に記述。
  - t-wada のテスト手法を積極的に採用
- **リリース計画**:
  - 一旦考えない。Git のコミット/push は積極的に行う事

---
